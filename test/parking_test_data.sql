-- =====================================================
-- 停车场2.8.3功能测试数据创建脚本
-- 功能：创建车位状态查询测试数据
-- 创建时间：2024年
-- 注意：本脚本会自动清理所有相关测试数据，无需手动清理
-- =====================================================

-- =====================================================
-- 第一步：清理所有相关测试数据（避免ID冲突）
-- =====================================================

-- 开始清理事务
BEGIN

-- 1. 清理测试停车记录
DELETE FROM PARK WHERE LICENSE_PLATE_NUMBER LIKE 'TEST%';
DBMS_OUTPUT.PUT_LINE('已清理测试停车记录');

-- 2. 清理测试车辆信息
DELETE FROM CAR WHERE LICENCE_PLATE_NUMBER LIKE 'TEST%';
DBMS_OUTPUT.PUT_LINE('已清理测试车辆信息');

-- 3. 清理车位分布记录
DELETE FROM PARKING_SPACE_DISTRIBUTION WHERE AREA_ID IN (1001, 1002, 1003);
DBMS_OUTPUT.PUT_LINE('已清理车位分布记录');

-- 4. 清理测试车位信息
DELETE FROM PARKING_SPACE WHERE PARKING_SPACE_ID BETWEEN 1001 AND 1020;
DELETE FROM PARKING_SPACE WHERE PARKING_SPACE_ID BETWEEN 2001 AND 2015;
DELETE FROM PARKING_SPACE WHERE PARKING_SPACE_ID BETWEEN 3001 AND 3025;
DBMS_OUTPUT.PUT_LINE('已清理测试车位信息');

-- 5. 清理停车场费用信息
DELETE FROM PARKING_LOT WHERE AREA_ID IN (1001, 1002, 1003);
DBMS_OUTPUT.PUT_LINE('已清理停车场费用信息');

-- 6. 清理停车场区域
DELETE FROM AREA WHERE AREA_ID IN (1001, 1002, 1003);
DBMS_OUTPUT.PUT_LINE('已清理停车场区域');

-- 7. 清理测试账号关联
DELETE FROM STAFF_ACCOUNT WHERE ACCOUNT LIKE '%test%';
DBMS_OUTPUT.PUT_LINE('已清理测试账号关联');

-- 8. 清理测试账号
DELETE FROM ACCOUNT WHERE ACCOUNT LIKE '%test%';
DBMS_OUTPUT.PUT_LINE('已清理测试账号');

-- 提交清理操作
COMMIT;
DBMS_OUTPUT.PUT_LINE('==========================================');
DBMS_OUTPUT.PUT_LINE('✅ 历史测试数据清理完成！');
DBMS_OUTPUT.PUT_LINE('==========================================');

EXCEPTION
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('❌ 清理过程中发生错误: ' || SQLERRM);
        ROLLBACK;
        RAISE;

END;
/

-- =====================================================
-- 第二步：创建新的测试数据
-- =====================================================

-- 1. 创建测试账号 (权限1=管理员, 2=经理, 3=员工)
INSERT INTO ACCOUNT (ACCOUNT, PASSWORD, IDENTITY, USERNAME, AUTHORITY) 
VALUES ('admin_test', 'password123', '员工', '管理员测试', 1);

INSERT INTO ACCOUNT (ACCOUNT, PASSWORD, IDENTITY, USERNAME, AUTHORITY) 
VALUES ('manager_test', 'password123', '员工', '经理测试', 2);

INSERT INTO ACCOUNT (ACCOUNT, PASSWORD, IDENTITY, USERNAME, AUTHORITY) 
VALUES ('staff_test', 'password123', '员工', '员工测试', 3);

-- 1.1 创建员工账号关联（先检查表结构）
-- 如果STAFF_ACCOUNT表不存在，跳过这部分
BEGIN
  EXECUTE IMMEDIATE 'INSERT INTO STAFF_ACCOUNT (ACCOUNT, STAFF_ID) VALUES (''admin_test'', 1)';
  DBMS_OUTPUT.PUT_LINE('admin_test账号关联创建成功');
EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('跳过STAFF_ACCOUNT表插入: ' || SQLERRM);
END;
/
BEGIN
  EXECUTE IMMEDIATE 'INSERT INTO STAFF_ACCOUNT (ACCOUNT, STAFF_ID) VALUES (''manager_test'', 2)';
  DBMS_OUTPUT.PUT_LINE('manager_test账号关联创建成功');
EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('跳过STAFF_ACCOUNT表插入: ' || SQLERRM);
END;
/
BEGIN
  EXECUTE IMMEDIATE 'INSERT INTO STAFF_ACCOUNT (ACCOUNT, STAFF_ID) VALUES (''staff_test'', 3)';
  DBMS_OUTPUT.PUT_LINE('staff_test账号关联创建成功');
EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('跳过STAFF_ACCOUNT表插入: ' || SQLERRM);
END;
/

-- 2. 创建测试停车场区域
INSERT INTO AREA (AREA_ID, ISEMPTY, AREA_SIZE, CATEGORY) VALUES (1001, 1, 2000, 'PARKING');
INSERT INTO AREA (AREA_ID, ISEMPTY, AREA_SIZE, CATEGORY) VALUES (1002, 1, 1500, 'PARKING');
INSERT INTO AREA (AREA_ID, ISEMPTY, AREA_SIZE, CATEGORY) VALUES (1003, 1, 2500, 'PARKING');

-- 3. 创建停车场费用信息
INSERT INTO PARKING_LOT (AREA_ID, PARKING_FEE) VALUES (1001, 5.00);
INSERT INTO PARKING_LOT (AREA_ID, PARKING_FEE) VALUES (1002, 6.00);
INSERT INTO PARKING_LOT (AREA_ID, PARKING_FEE) VALUES (1003, 4.00);

-- 4. 创建测试车位
-- 停车场1001（20个车位，全部空闲）
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1001, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1002, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1003, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1004, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1005, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1006, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1007, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1008, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1009, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1010, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1011, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1012, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1013, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1014, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1015, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1016, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1017, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1018, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1019, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (1020, 0);

-- 停车场1002（15个车位，全部空闲）
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2001, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2002, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2003, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2004, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2005, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2006, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2007, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2008, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2009, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2010, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2011, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2012, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2013, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2014, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (2015, 0);

-- 停车场1003（25个车位，全部空闲）
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3001, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3002, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3003, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3004, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3005, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3006, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3007, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3008, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3009, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3010, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3011, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3012, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3013, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3014, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3015, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3016, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3017, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3018, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3019, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3020, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3021, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3022, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3023, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3024, 0);
INSERT INTO PARKING_SPACE (PARKING_SPACE_ID, OCCUPIED) VALUES (3025, 0);

-- 5. 创建测试车辆（使用固定日期，便于2.8.5统计报表测试）
-- 
-- 支付状态说明：
-- - 已离场车辆（TEST001-TEST048）：自动标记为已支付状态
-- - 正在停车车辆（TEST049-TEST051）：未支付状态
-- 
-- 后端系统会根据CAR表中的PARK_END字段自动判断：
-- - 有PARK_END时间 = 已离场 = 已支付
-- - 无PARK_END时间 = 正在停车 = 未支付
-- 
-- 8月9日 - 少量车辆（大部分已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST001', TO_DATE('2025-08-09 09:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-09 12:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST002', TO_DATE('2025-08-09 14:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-09 17:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST003', TO_DATE('2025-08-09 16:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-09 19:30:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月10日 - 较多车辆（大部分已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST004', TO_DATE('2025-08-10 08:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 11:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST005', TO_DATE('2025-08-10 09:15:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 13:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST006', TO_DATE('2025-08-10 10:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 14:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST007', TO_DATE('2025-08-10 11:20:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 15:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST008', TO_DATE('2025-08-10 12:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 16:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST009', TO_DATE('2025-08-10 13:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 18:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST010', TO_DATE('2025-08-10 15:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 18:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST011', TO_DATE('2025-08-10 16:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-10 20:15:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月11日 - 高峰期（大部分已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST012', TO_DATE('2025-08-11 07:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 10:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST013', TO_DATE('2025-08-11 08:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 12:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST014', TO_DATE('2025-08-11 09:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 13:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST015', TO_DATE('2025-08-11 10:15:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 14:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST016', TO_DATE('2025-08-11 11:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 15:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST017', TO_DATE('2025-08-11 12:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 16:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST018', TO_DATE('2025-08-11 13:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 17:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST019', TO_DATE('2025-08-11 14:20:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 18:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST020', TO_DATE('2025-08-11 15:10:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 17:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST021', TO_DATE('2025-08-11 16:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-11 19:30:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月12日 - 中等流量（大部分已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST022', TO_DATE('2025-08-12 08:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-12 11:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST023', TO_DATE('2025-08-12 09:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-12 13:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST024', TO_DATE('2025-08-12 10:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-12 14:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST025', TO_DATE('2025-08-12 11:15:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-12 15:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST026', TO_DATE('2025-08-12 12:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-12 16:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST027', TO_DATE('2025-08-12 13:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-12 16:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST028', TO_DATE('2025-08-12 14:15:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-12 18:20:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月13日 - 较多车辆（大部分已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST029', TO_DATE('2025-08-13 07:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 11:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST030', TO_DATE('2025-08-13 08:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 12:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST031', TO_DATE('2025-08-13 09:15:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 13:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST032', TO_DATE('2025-08-13 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 14:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST033', TO_DATE('2025-08-13 11:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 15:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST034', TO_DATE('2025-08-13 12:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 16:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST035', TO_DATE('2025-08-13 13:20:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 16:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST036', TO_DATE('2025-08-13 14:10:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-13 17:45:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月14日 - 中等流量（大部分已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST037', TO_DATE('2025-08-14 08:20:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-14 11:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST038', TO_DATE('2025-08-14 09:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-14 13:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST039', TO_DATE('2025-08-14 10:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-14 14:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST040', TO_DATE('2025-08-14 11:15:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-14 15:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST041', TO_DATE('2025-08-14 12:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-14 15:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST042', TO_DATE('2025-08-14 13:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-14 18:20:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月15日 - 较少车辆（全部已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST043', TO_DATE('2025-08-15 09:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-15 12:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST044', TO_DATE('2025-08-15 10:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-15 14:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST045', TO_DATE('2025-08-15 11:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-15 14:30:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月16日 - 少量车辆（全部已完成）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST046', TO_DATE('2025-08-16 08:15:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-16 11:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST047', TO_DATE('2025-08-16 09:30:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-16 12:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST048', TO_DATE('2025-08-16 10:45:00', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2025-08-16 16:20:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月17日 - 新增3条入场记录（正在停车中）
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST049', TO_DATE('2025-08-17 09:00:00', 'YYYY-MM-DD HH24:MI:SS'), NULL);
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST050', TO_DATE('2025-08-17 10:30:00', 'YYYY-MM-DD HH24:MI:SS'), NULL);
INSERT INTO CAR (LICENCE_PLATE_NUMBER, PARK_START, PARK_END) VALUES ('TEST051', TO_DATE('2025-08-17 11:45:00', 'YYYY-MM-DD HH24:MI:SS'), NULL);

-- 6. 创建停车记录（使用固定日期，便于2.8.5统计报表测试）
-- 8月9日 - 停车场1001
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST001', 1016, TO_DATE('2025-08-09 09:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST002', 1017, TO_DATE('2025-08-09 14:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST003', 1018, TO_DATE('2025-08-09 16:45:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月10日 - 停车场1001和1002
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST004', 1019, TO_DATE('2025-08-10 08:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST005', 1020, TO_DATE('2025-08-10 09:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST006', 2001, TO_DATE('2025-08-10 10:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST007', 2002, TO_DATE('2025-08-10 11:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST008', 2003, TO_DATE('2025-08-10 12:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST009', 2004, TO_DATE('2025-08-10 13:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST010', 2005, TO_DATE('2025-08-10 15:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST011', 2006, TO_DATE('2025-08-10 16:30:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月11日 - 停车场1002和1003（高峰期）
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST012', 2007, TO_DATE('2025-08-11 07:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST013', 2008, TO_DATE('2025-08-11 08:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST014', 2009, TO_DATE('2025-08-11 09:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST015', 2010, TO_DATE('2025-08-11 10:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST016', 2011, TO_DATE('2025-08-11 11:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST017', 2012, TO_DATE('2025-08-11 12:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST018', 2013, TO_DATE('2025-08-11 13:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST019', 2014, TO_DATE('2025-08-11 14:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST020', 2015, TO_DATE('2025-08-11 15:10:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST021', 3001, TO_DATE('2025-08-11 16:00:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月12日 - 停车场1003
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST022', 3002, TO_DATE('2025-08-12 08:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST023', 3003, TO_DATE('2025-08-12 09:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST024', 3004, TO_DATE('2025-08-12 10:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST025', 3005, TO_DATE('2025-08-12 11:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST026', 3006, TO_DATE('2025-08-12 12:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST027', 3007, TO_DATE('2025-08-12 13:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST028', 3008, TO_DATE('2025-08-12 14:15:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月13日 - 停车场1003
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST029', 3009, TO_DATE('2025-08-13 07:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST030', 3010, TO_DATE('2025-08-13 08:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST031', 3011, TO_DATE('2025-08-13 09:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST032', 3012, TO_DATE('2025-08-13 10:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST033', 3013, TO_DATE('2025-08-13 11:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST034', 3014, TO_DATE('2025-08-13 12:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST035', 3015, TO_DATE('2025-08-13 13:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST036', 3016, TO_DATE('2025-08-13 14:10:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月14日 - 停车场1003
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST037', 3017, TO_DATE('2025-08-14 08:20:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST038', 3018, TO_DATE('2025-08-14 09:45:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST039', 3019, TO_DATE('2025-08-14 10:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST040', 3020, TO_DATE('2025-08-14 11:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST041', 3021, TO_DATE('2025-08-14 12:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST042', 3022, TO_DATE('2025-08-14 13:45:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月15日 - 停车场1003
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST043', 3023, TO_DATE('2025-08-15 09:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST044', 3024, TO_DATE('2025-08-15 10:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST045', 3025, TO_DATE('2025-08-15 11:45:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月16日 - 停车场1001
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST046', 1001, TO_DATE('2025-08-16 08:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST047', 1002, TO_DATE('2025-08-16 09:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST048', 1003, TO_DATE('2025-08-16 10:45:00', 'YYYY-MM-DD HH24:MI:SS'));

-- 8月17日 - 新增3条入场记录
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST049', 1004, TO_DATE('2025-08-17 09:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST050', 1005, TO_DATE('2025-08-17 10:30:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO PARK (LICENSE_PLATE_NUMBER, PARKING_SPACE_ID, PARK_START) VALUES ('TEST051', 1006, TO_DATE('2025-08-17 11:45:00', 'YYYY-MM-DD HH24:MI:SS'));

-- =====================================================
-- 说明：所有车辆都只有入场记录（PARK_START），没有出场时间
-- 后端会根据CAR表中的PARK_END字段来判断车辆是否已出场
-- 已出场的车辆会显示为"已支付"，仍在停车中的车辆会显示为"未支付"
-- =====================================================


-- 7. 创建车位分布记录（关联区域与车位）
-- 停车场1001的车位分布
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1001);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1002);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1003);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1004);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1005);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1006);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1007);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1008);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1009);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1010);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1011);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1012);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1013);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1014);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1015);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1016);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1017);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1018);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1019);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1001, 1020);

-- 停车场1002的车位分布
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2001);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2002);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2003);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2004);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2005);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2006);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2007);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2008);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2009);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2010);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2011);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2012);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2013);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2014);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1002, 2015);

-- 停车场1003的车位分布
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3001);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3002);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3003);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3004);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3005);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3006);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3007);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3008);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3009);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3010);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3011);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3012);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3013);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3014);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3015);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3016);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3017);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3018);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3019);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3020);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3021);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3022);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3023);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3024);
INSERT INTO PARKING_SPACE_DISTRIBUTION (AREA_ID, PARKING_SPACE_ID) VALUES (1003, 3025);

-- 提交事务
COMMIT;

-- 显示创建结果及统计信息
SELECT '测试数据创建完成！' AS MESSAGE FROM DUAL;

-- 验证清理结果（应该都是0）
SELECT '=== 清理验证（应该都是0） ===' AS MESSAGE FROM DUAL;
SELECT 
    '测试账号' AS DATA_TYPE,
    COUNT(*) AS REMAINING_COUNT
FROM ACCOUNT WHERE ACCOUNT LIKE '%test%'
UNION ALL
SELECT 
    '测试账号关联',
    COUNT(*)
FROM STAFF_ACCOUNT WHERE ACCOUNT LIKE '%test%'
UNION ALL
SELECT 
    '停车场区域',
    COUNT(*)
FROM AREA WHERE AREA_ID IN (1001, 1002, 1003)
UNION ALL
SELECT 
    '车位信息',
    COUNT(*)
FROM PARKING_SPACE WHERE PARKING_SPACE_ID BETWEEN 1001 AND 3025
UNION ALL
SELECT 
    '测试车辆',
    COUNT(*)
FROM CAR WHERE LICENCE_PLATE_NUMBER LIKE 'TEST%'
UNION ALL
SELECT 
    '停车记录',
    COUNT(*)
FROM PARK WHERE LICENSE_PLATE_NUMBER LIKE 'TEST%';

-- =====================================================
-- 数据验证和统计查询
-- =====================================================

-- 1. 验证各停车场状态
SELECT '=== 停车场状态统计 ===' AS MESSAGE FROM DUAL;
SELECT 
    '停车场1001' AS PARKING_LOT,
    COUNT(*) AS TOTAL_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 0 THEN 1 ELSE 0 END) AS AVAILABLE_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 1 THEN 1 ELSE 0 END) AS OCCUPIED_SPACES,
    ROUND(SUM(CASE WHEN ps.OCCUPIED = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) AS OCCUPANCY_RATE,
    (SELECT PARKING_FEE FROM PARKING_LOT WHERE AREA_ID = 1001) AS PARKING_FEE
FROM PARKING_SPACE_DISTRIBUTION psd
JOIN PARKING_SPACE ps ON psd.PARKING_SPACE_ID = ps.PARKING_SPACE_ID
WHERE psd.AREA_ID = 1001
GROUP BY psd.AREA_ID
UNION ALL
SELECT 
    '停车场1002' AS PARKING_LOT,
    COUNT(*) AS TOTAL_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 0 THEN 1 ELSE 0 END) AS AVAILABLE_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 1 THEN 1 ELSE 0 END) AS OCCUPIED_SPACES,
    ROUND(SUM(CASE WHEN ps.OCCUPIED = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) AS OCCUPANCY_RATE,
    (SELECT PARKING_FEE FROM PARKING_LOT WHERE AREA_ID = 1002) AS PARKING_FEE
FROM PARKING_SPACE_DISTRIBUTION psd
JOIN PARKING_SPACE ps ON psd.PARKING_SPACE_ID = ps.PARKING_SPACE_ID
WHERE psd.AREA_ID = 1002
GROUP BY psd.AREA_ID
UNION ALL
SELECT 
    '停车场1003' AS PARKING_LOT,
    COUNT(*) AS TOTAL_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 0 THEN 1 ELSE 0 END) AS AVAILABLE_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 1 THEN 1 ELSE 0 END) AS OCCUPIED_SPACES,
    ROUND(SUM(CASE WHEN ps.OCCUPIED = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) AS OCCUPANCY_RATE,
    (SELECT PARKING_FEE FROM PARKING_LOT WHERE AREA_ID = 1003) AS PARKING_FEE
FROM PARKING_SPACE_DISTRIBUTION psd
JOIN PARKING_SPACE ps ON psd.PARKING_SPACE_ID = ps.PARKING_SPACE_ID
WHERE psd.AREA_ID = 1003
GROUP BY psd.AREA_ID;

-- 2. 验证测试账号
SELECT '=== 测试账号验证 ===' AS MESSAGE FROM DUAL;
SELECT ACCOUNT, IDENTITY, USERNAME, AUTHORITY 
FROM ACCOUNT 
WHERE ACCOUNT IN ('admin_test', 'manager_test', 'staff_test')
ORDER BY AUTHORITY;

-- 3. 显示正在停车的车辆详情
SELECT '=== 正在停车的车辆详情 ===' AS MESSAGE FROM DUAL;
SELECT 
    c.LICENCE_PLATE_NUMBER,
    p.PARKING_SPACE_ID,
    p.PARK_START,
    ROUND((SYSDATE - p.PARK_START) * 24, 2) AS PARKING_HOURS
FROM CAR c
JOIN PARK p ON c.LICENCE_PLATE_NUMBER = p.LICENSE_PLATE_NUMBER
WHERE c.PARK_END IS NULL
AND c.LICENCE_PLATE_NUMBER LIKE 'TEST%'
ORDER BY p.PARK_START;

-- 4. 显示已离场车辆的支付状态
SELECT '=== 已离场车辆的支付状态 ===' AS MESSAGE FROM DUAL;
SELECT 
    c.LICENCE_PLATE_NUMBER,
    c.PARK_START,
    c.PARK_END,
    ROUND((c.PARK_END - c.PARK_START) * 24, 2) AS PARKING_HOURS,
    CASE 
        WHEN c.LICENCE_PLATE_NUMBER IN ('TEST001', 'TEST002', 'TEST003', 'TEST004', 'TEST005', 'TEST006', 'TEST007', 'TEST008', 'TEST009', 'TEST010', 'TEST011', 'TEST012', 'TEST013', 'TEST014', 'TEST015', 'TEST016', 'TEST017', 'TEST018', 'TEST019', 'TEST020', 'TEST021', 'TEST022', 'TEST023', 'TEST024', 'TEST025', 'TEST026', 'TEST027', 'TEST028', 'TEST029', 'TEST030', 'TEST031', 'TEST032', 'TEST033', 'TEST034', 'TEST035', 'TEST036', 'TEST037', 'TEST038', 'TEST039', 'TEST040', 'TEST041', 'TEST042', 'TEST043', 'TEST044', 'TEST045', 'TEST046', 'TEST047', 'TEST048') THEN '已支付'
        ELSE '未支付'
    END AS PAYMENT_STATUS
FROM CAR c
WHERE c.PARK_END IS NOT NULL
AND c.LICENCE_PLATE_NUMBER LIKE 'TEST%'
ORDER BY c.PARK_END DESC;

-- 4. 显示空闲车位详情
SELECT '=== 空闲车位详情 ===' AS MESSAGE FROM DUAL;
SELECT 
    ps.PARKING_SPACE_ID,
    psd.AREA_ID,
    ps.OCCUPIED,
    CASE WHEN ps.OCCUPIED = 0 THEN '空闲' ELSE '占用' END AS STATUS
FROM PARKING_SPACE ps
JOIN PARKING_SPACE_DISTRIBUTION psd ON ps.PARKING_SPACE_ID = psd.PARKING_SPACE_ID
WHERE ps.OCCUPIED = 0 AND psd.AREA_ID IN (1001, 1002, 1003)
ORDER BY psd.AREA_ID, ps.PARKING_SPACE_ID;

-- 5. 显示已完成的停车记录
SELECT '=== 已完成的停车记录 ===' AS MESSAGE FROM DUAL;
SELECT 
    c.LICENCE_PLATE_NUMBER,
    c.PARK_START,
    c.PARK_END,
    ROUND((c.PARK_END - c.PARK_START) * 24, 2) AS PARKING_HOURS
FROM CAR c
WHERE c.LICENCE_PLATE_NUMBER IN ('TEST021', 'TEST022', 'TEST023')
ORDER BY c.PARK_END DESC;

-- 6. 显示车位分布详情
SELECT '=== 车位分布详情 ===' AS MESSAGE FROM DUAL;
SELECT 
    psd.AREA_ID,
    COUNT(*) AS TOTAL_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 0 THEN 1 ELSE 0 END) AS AVAILABLE_SPACES,
    SUM(CASE WHEN ps.OCCUPIED = 1 THEN 1 ELSE 0 END) AS OCCUPIED_SPACES
FROM PARKING_SPACE_DISTRIBUTION psd
JOIN PARKING_SPACE ps ON psd.PARKING_SPACE_ID = ps.PARKING_SPACE_ID
WHERE psd.AREA_ID IN (1001, 1002, 1003)
GROUP BY psd.AREA_ID
ORDER BY psd.AREA_ID;

-- 7. 显示测试车辆统计
SELECT '=== 测试车辆统计 ===' AS MESSAGE FROM DUAL;
SELECT 
    '测试车辆总数' AS STAT_TYPE,
    COUNT(*) AS COUNT,
    LISTAGG(LICENCE_PLATE_NUMBER, ', ') WITHIN GROUP (ORDER BY LICENCE_PLATE_NUMBER) AS LICENSE_PLATES
FROM CAR
WHERE LICENCE_PLATE_NUMBER LIKE 'TEST%';

PROMPT '2.8.3测试数据创建完成！（已更新为固定日期，支持2.8.5统计报表测试）'
PROMPT '测试账号信息：'
PROMPT '- admin_test (权限1) / 密码：password123'
PROMPT '- manager_test (权限2) / 密码：password123'
PROMPT '- staff_test (权限3) / 密码：password123'
PROMPT ''
PROMPT '停车场配置：'
PROMPT '- 停车场1001: 20个车位，已占0个，空闲20个，停车费5元'
PROMPT '- 停车场1002: 15个车位，已占0个，空闲15个，停车费6元'
PROMPT '- 停车场1003: 25个车位，已占0个，空闲25个，停车费4元'
PROMPT ''
PROMPT '测试场景：'
PROMPT '- 车辆入场测试：使用空闲车位1001-1020, 2001-2015, 3001-3025'
PROMPT '- 车辆出场测试：使用正在停车的车辆TEST049-TEST051'
PROMPT '- 支付功能测试：使用已完成的停车记录TEST001-TEST048（已离场并已支付）'
PROMPT '- 未支付测试：使用正在停车的车辆TEST049-TEST051（未离场，未支付）'
PROMPT ''
PROMPT '2.8.5统计报表测试数据：'
PROMPT '- 停车时间范围：2025-08-09 到 2025-08-17'
PROMPT '- 测试车辆：51辆（48辆已完成停车并支付，3辆正在停车中）'
PROMPT '- 分布情况：'
PROMPT '  * 2025-08-09: 3辆已完成'
PROMPT '  * 2025-08-10: 8辆已完成'
PROMPT '  * 2025-08-11: 10辆已完成（高峰期）'
PROMPT '  * 2025-08-12: 7辆已完成'
PROMPT '  * 2025-08-13: 8辆已完成'
PROMPT '  * 2025-08-14: 6辆已完成'
PROMPT '  * 2025-08-15: 3辆已完成'
PROMPT '  * 2025-08-16: 3辆已完成'
PROMPT '  * 2025-08-17: 3辆正在停车中'
PROMPT '- 停车场分布：'
PROMPT '  * 停车场1001: 11辆（8辆已完成，3辆正在停车中）'
PROMPT '  * 停车场1002: 15辆（全部已完成）'
PROMPT '  * 停车场1003: 25辆（全部已完成）'
PROMPT ''
PROMPT '数据统计：'
PROMPT '- 总车位数：60个'
PROMPT '- 空闲车位：57个'
PROMPT '- 占用车位：3个'
PROMPT '- 测试车辆：51辆'
PROMPT '  * 已离场并已支付：48辆（TEST001-TEST048）'
PROMPT '  * 正在停车中：3辆（TEST049-TEST051）'
PROMPT '- 支付状态：'
PROMPT '  * 已支付：48辆（已离场车辆）'
PROMPT '  * 未支付：3辆（正在停车中）'
PROMPT '- 预计收入：根据实际停车时长和不同停车场费率计算'